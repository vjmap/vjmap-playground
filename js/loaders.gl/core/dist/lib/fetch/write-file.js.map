{"version":3,"sources":["../../../src/lib/fetch/write-file.ts"],"names":["isBrowser","assert","resolvePath","fs","toBuffer","writeFile","filePath","arrayBufferOrString","options","flag","writeFileSync"],"mappings":"AACA,SAAQA,SAAR,EAAmBC,MAAnB,EAA2BC,WAA3B,QAA6C,0BAA7C;AACA,SAAQC,EAAR,EAAYC,QAAZ,QAA2B,0BAA3B;AAEA,OAAO,eAAeC,SAAf,CACLC,QADK,EAELC,mBAFK,EAGLC,OAHK,EAIU;AACfF,EAAAA,QAAQ,GAAGJ,WAAW,CAACI,QAAD,CAAtB;;AACA,MAAI,CAACN,SAAL,EAAgB;AACd,UAAMG,EAAE,CAACE,SAAH,CAAaC,QAAb,EAAuBF,QAAQ,CAACG,mBAAD,CAA/B,EAAsD;AAACE,MAAAA,IAAI,EAAE;AAAP,KAAtD,CAAN;AACD;;AACDR,EAAAA,MAAM,CAAC,KAAD,CAAN;AACD;AAED,OAAO,SAASS,aAAT,CACLJ,QADK,EAELC,mBAFK,EAGLC,OAHK,EAIC;AACNF,EAAAA,QAAQ,GAAGJ,WAAW,CAACI,QAAD,CAAtB;;AACA,MAAI,CAACN,SAAL,EAAgB;AACdG,IAAAA,EAAE,CAACO,aAAH,CAAiBJ,QAAjB,EAA2BF,QAAQ,CAACG,mBAAD,CAAnC,EAA0D;AAACE,MAAAA,IAAI,EAAE;AAAP,KAA1D;AACD;;AACDR,EAAAA,MAAM,CAAC,KAAD,CAAN;AACD","sourcesContent":["// file write\r\nimport {isBrowser, assert, resolvePath} from '@loaders.gl/loader-utils';\r\nimport {fs, toBuffer} from '@loaders.gl/loader-utils';\r\n\r\nexport async function writeFile(\r\n  filePath: string,\r\n  arrayBufferOrString: ArrayBuffer | string,\r\n  options?\r\n): Promise<void> {\r\n  filePath = resolvePath(filePath);\r\n  if (!isBrowser) {\r\n    await fs.writeFile(filePath, toBuffer(arrayBufferOrString), {flag: 'w'});\r\n  }\r\n  assert(false);\r\n}\r\n\r\nexport function writeFileSync(\r\n  filePath: string,\r\n  arrayBufferOrString: ArrayBuffer | string,\r\n  options?\r\n): void {\r\n  filePath = resolvePath(filePath);\r\n  if (!isBrowser) {\r\n    fs.writeFileSync(filePath, toBuffer(arrayBufferOrString), {flag: 'w'});\r\n  }\r\n  assert(false);\r\n}\r\n"],"file":"write-file.js"}